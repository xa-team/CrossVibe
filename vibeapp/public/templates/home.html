{% extends "layout.html" %}
{% block title %}
    CrossVibe
{% endblock title %}
{% block content %}
    <div class="text-center mt-5">
        {% if user %}
            <h1 class="mb-4">í™˜ì˜í•©ë‹ˆë‹¤, {{ user.display_name }}</h1>
            <button class="btn btn-danger" onclick="confirmLogout()">ë¡œê·¸ì•„ì›ƒ</button>
        {% else %}
            <h1 class="mb-4">ğŸ§ CrossVibeì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>
            <p>í”Œë«í¼ì„ ì„ íƒí•´ ë¡œê·¸ì¸í•˜ì„¸ìš”:</p>
            {% set platforms = {
                "spotify": {
                    "label": "Spotify",
                    "class": "btn-success",
                    "emoji": "ğŸµ"
                },
                "applemusic": {
                    "label": "Apple Music",
                    "class": "btn-secondary",
                    "emoji": "ğŸ"
                },
                "youtube": {
                    "label": "YouTube Music",
                    "class": "btn-danger",
                    "emoji": "â–¶ï¸"
                }
            } %}
            <div class="d-flex justify-content-center gap-2 flex-wrap">
                {% for platform, info in platforms.items() %}
                    <a href="{{ url_for('public.login_platform', platform=platform) }}"
                       class="btn {{ info.class }} btn-lg">{{ info.emoji }} {{ info.label }}(ìœ¼)ë¡œ ë¡œê·¸ì¸</a>
                {% endfor %}
            </div>
        {% endif %}
    </div>
    <script>
        function confirmLogout()
        {
            if(confirm("ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))
            {
                window.location.href = "{{url_for('public.logout')}}"
            }
        }
    </script>
{% endblock content %}
